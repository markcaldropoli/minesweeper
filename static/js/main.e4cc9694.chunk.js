(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{13:function(e,t,n){},8:function(e,t,n){"use strict";n.r(t);var s=n(3),i=n(4),r=n(6),a=n(5),u=n(1),o=n.n(u),c=n(7),l=n.n(c),h=(n(13),n(0));function m(e){var t=null===e.value?"square":"clicked";return Object(h.jsx)("button",{id:e.num,className:t,onClick:e.onClick,onContextMenu:e.onContextMenu,children:e.value})}var f=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"renderSquare",value:function(e){var t=this;return Object(h.jsx)(m,{value:this.props.squares[e],onClick:function(){return t.props.onClick(e)},onContextMenu:function(){return t.props.onContextMenu(e)},num:e},e)}},{key:"render",value:function(){var e=this,t=[];return Array.from(Array(16).keys()).forEach((function(n,s){var i=[];Array.from(Array(30).keys(),(function(e){return e+30*s})).forEach((function(t){i.push(e.renderSquare(t))})),t.push(i)})),Object(h.jsx)("div",{children:t.map((function(e,t){return Object(h.jsx)("div",{className:"board-row",children:e},t)}))})}}]),n}(o.a.Component),j=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(e){var i;Object(s.a)(this,n),(i=t.call(this,e)).state={history:[{squares:Array(480).fill(null)}],mines:Array(480).fill(null),minesInProximity:Array(480).fill(null),stepNumber:0,isFirstClick:!0,isFirstRender:!0,flagsRemaining:99};for(var r=[];99!==r.length;){var a=Math.floor(479*Math.random());r.includes(a)||r.push(a)}for(var u=0;u<r.length;u++)i.state.mines[r[u]]="\ud83d\udca3";for(var o=0;o<i.state.history[0].squares.length;o++)if("\ud83d\udca3"!==i.state.mines[o]){var c=0,l=o-30,h=o+30,m=o%30===0,f=o%30===29;l>0&&(m||"\ud83d\udca3"!==i.state.mines[l-1]||c++,"\ud83d\udca3"===i.state.mines[l]&&c++,f||"\ud83d\udca3"!==i.state.mines[l+1]||c++),m||"\ud83d\udca3"!==i.state.mines[o-1]||c++,f||"\ud83d\udca3"!==i.state.mines[o+1]||c++,h<479&&(m||"\ud83d\udca3"!==i.state.mines[h-1]||c++,"\ud83d\udca3"===i.state.mines[h]&&c++,f||"\ud83d\udca3"!==i.state.mines[h+1]||c++),i.state.minesInProximity[o]=0!==c?c:""}return i}return Object(i.a)(n,[{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice();if(null===this.state.minesInProximity[e]||n[e]!==this.state.minesInProximity[e]){if("\ud83d\udca3"===this.state.mines[e]){for(var s=0;s<this.state.mines.length;s++)null!==this.state.mines[s]&&(n[s]=this.state.mines[s]);for(var i=0;i<this.state.minesInProximity.length;i++)null!==this.state.minesInProximity[i]&&(n[i]=this.state.minesInProximity[i])}else n[e]=this.state.minesInProximity[e];this.setState({history:t.concat([{squares:n}]),stepNumber:t.length})}}},{key:"handleRightClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice(),s=n[e],i=this.state.flagsRemaining;"\ud83d\udea9"===n[e]?(i+=1,s=null):null===n[e]&&(i-=1,s="\ud83d\udea9"),n[e]=s,this.setState({flagsRemaining:i,history:t.concat([{squares:n}]),stepNumber:t.length})}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e})}},{key:"render",value:function(){var e,t=this,n=this.state.history,s=n[this.state.stepNumber],i=function(e,t){for(var n=0;n<t.length;n++)if("\ud83d\udca3"===t[n])return"Loss";return 0!==e?"In-Progress":"Win"}(this.state.flagsRemaining,s.squares.slice()),r=n.map((function(e,n){var s=n?"Go to move #"+n:"Go to game start";return Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){return t.jumpTo(n)},children:s})},n)}));return e="Win"===i?"Amazing, you win!":"Loss"===i?"Better luck next game!":"Select a square!",Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Minesweeper"}),Object(h.jsxs)("h2",{children:["Flags Remaining: ",this.state.flagsRemaining,"/99"]}),Object(h.jsxs)("div",{className:"game",children:[Object(h.jsx)("div",{className:"game-board",children:Object(h.jsx)(f,{squares:s.squares,onClick:function(e){return t.handleClick(e)},onContextMenu:function(e){return t.handleRightClick(e)}})}),Object(h.jsxs)("div",{className:"game-info",children:[Object(h.jsx)("div",{children:e}),Object(h.jsx)("ol",{children:r})]})]})]})}}]),n}(o.a.Component);l.a.render(Object(h.jsx)(j,{}),document.getElementById("root"),document.addEventListener("contextmenu",(function(e){e.preventDefault()})))}},[[8,1,2]]]);
//# sourceMappingURL=main.e4cc9694.chunk.js.map